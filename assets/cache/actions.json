{"id":"actions","deps":["class","bufferedaction","debugtools","util","vecutil","components/embarker"],"as":{},"info":"\n\n定义各种各样的动作, 如 eat, equip\n\n","extern":[{"id":"Action","info":"\n\nAction = data, priority, instant, rmb, distance\n\n- data: 用于扩展的数据\n- priority\n- instant\n- rmb\n- distance\n\nAction:\n\n| Property                     | Description                                                                      |\n| ---------------------------- | -------------------------------------------------------------------------------- |\n| `priority`                   | The priority of the action.                                                      |\n| `fn`                         | The function that is called when the action is performed.                        |\n| `strfn`                      | The string function that is used to display the name of the action.              |\n| `instant`                    | Whether the action can be performed instantly.                                   |\n| `rmb`                        | Whether the right mouse button needs to be held down to perform the action.      |\n| `distance`                   | The distance at which the action can be performed.                               |\n| `mindistance`                | The minimum distance at which the action can be performed.                       |\n| `ghost_exclusive`            | Whether the action can only be performed on ghost objects.                       |\n| `ghost_valid`                | Whether the action can be performed on ghost objects.                            |\n| `mount_valid`                | Whether the action can be performed while mounted.                               |\n| `encumbered_valid`           | Whether the action can be performed while encumbered.                            |\n| `canforce`                   | Whether the action can be forced.                                                |\n| `rangecheckfn`               | The function that is used to check the range of the action.                      |\n| `mod_name`                   | The name of the mod that defines the action.                                     |\n| `silent_fail`                | Whether the action should fail silently.                                         |\n| `paused_valid`               | Whether the action can be performed while the game is paused.                    |\n| `actionmeter`                | Whether the action has an action meter.                                          |\n| `customarrivecheck`          | The function that is used to check if the entity has arrived at the destination. |\n| `is_relative_to_platform`    | Whether the action is relative to the platform.                                  |\n| `disable_platform_hopping`   | Whether platform hopping is disabled for the action.                             |\n| `skip_locomotor_facing`      | Whether the locomotor facing should be skipped for the action.                   |\n| `do_not_locomote`            | Whether the entity should not locomote for the action.                           |\n| `extra_arrive_dist`          | The extra distance that the entity should arrive at the destination.             |\n| `tile_placer`                | The tile placer object that is used for the action.                              |\n| `show_tile_placer_fn`        | The function that is used to show the tile placer.                               |\n| `theme_music`                | The theme music that is played during the action.                                |\n| `theme_music_fn`             | The client-side function that is used to play the theme music.                   |\n| `pre_action_cb`              | The function that is called before the action is performed.                      |\n| `invalid_hold_action`        | Whether the action is invalid if it is held down.                                |\n| `show_primary_input_left`    | Whether the primary input should be shown on the left.                           |\n| `show_secondary_input_right` | Whether the secondary input should be shown on the right.                        |\n| `map_action`                 | Whether the action is a map action.                                              |\n\n"},{"id":"ACTIONS","info":"\n\n一系列的动作挂载在上面的 table\n\n### general\n\n| Action                  | Description                                                    |\n| ----------------------- | -------------------------------------------------------------- |\n| REPAIR                  | Repairs a structure.                                           |\n| READ                    | Reads a book.                                                  |\n| DROP                    | Drops an item from the inventory.                              |\n| TRAVEL                  | Travels to a location.                                         |\n| CHOP                    | Chops down a tree.                                             |\n| ATTACK                  | Attacks a target.                                              |\n| EAT                     | Eats food.                                                     |\n| PICK                    | Picks an item from the ground.                                 |\n| PICKUP                  | Picks up an item from the ground and puts it in the inventory. |\n| MINE                    | Mines a rock.                                                  |\n| DIG                     | Digs the ground.                                               |\n| GIVE                    | Gives an item to a target.                                     |\n| GIVETOPLAYER            | Gives an item to a player.                                     |\n| GIVEALLTOPLAYER         | Gives all items to a player.                                   |\n| FEEDPLAYER              | Feeds a player.                                                |\n| DECORATEVASE            | Decorates a vase.                                              |\n| COOK                    | Cooks food.                                                    |\n| FILL                    | Fills a container with water.                                  |\n| FILL_OCEAN              | Fills a container with ocean water.                            |\n| DRY                     | Dries a wet item.                                              |\n| ADDFUEL                 | Adds fuel to a fire.                                           |\n| ADDWETFUEL              | Adds wet fuel to a fire.                                       |\n| LIGHT                   | Lights a fire.                                                 |\n| EXTINGUISH              | Extinguishes a fire.                                           |\n| LOOKAT                  | Looks at a target.                                             |\n| TALKTO                  | Talks to a target.                                             |\n| WALKTO                  | Walks to a target.                                             |\n| INTERACT_WITH           | Interacts with a target.                                       |\n| BAIT                    | Baits a trap.                                                  |\n| CHECKTRAP               | Checks a trap.                                                 |\n| BUILD                   | Builds a structure.                                            |\n| PLANT                   | Plants a seed.                                                 |\n| HARVEST                 | Harvests a crop.                                               |\n| GOHOME                  | Goes home.                                                     |\n| SLEEPIN                 | Sleeps in a bed.                                               |\n| CHANGEIN                | Changes clothes.                                               |\n| HITCHUP                 | Hitches up a mount.                                            |\n| MARK                    | Marks a location.                                              |\n| UNHITCH                 | Unhitches a mount.                                             |\n| HITCH                   | Hitches a mount.                                               |\n| EQUIP                   | Equips an item.                                                |\n| UNEQUIP                 | Unequips an item.                                              |\n| SHAVE                   | Shaves fur.                                                    |\n| STORE                   | Stores an item.                                                |\n| RUMMAGE                 | Searches for an item.                                          |\n| DEPLOY                  | Deploys a structure.                                           |\n| DEPLOY_TILEARRIVE       | Deploys a structure on a tile.                                 |\n| PLAY                    | Plays an instrument.                                           |\n| CREATE                  | Creates an item.                                               |\n| JOIN                    | Joins a game.                                                  |\n| NET                     | Catches a fish with a net.                                     |\n| CATCH                   | Catches a fish.                                                |\n| FISH_OCEAN              | Fishes in the ocean.                                           |\n| FISH                    | Fishes.                                                        |\n| REEL                    | Reels in a fish.                                               |\n| OCEAN_FISHING_POND      | Fishes in a pond.                                              |\n| OCEAN_FISHING_CAST      | Casts a line in the ocean.                                     |\n| OCEAN_FISHING_REEL      | Reels in a fish while ocean fishing.                           |\n| OCEAN_FISHING_STOP      | Stops ocean fishing.                                           |\n| OCEAN_FISHING_CATCH     | Catches a fish while ocean fishing.                            |\n| CHANGE_TACKLE           | Changes fishing tackle.                                        |\n| POLLINATE               | Pollinates a flower.                                           |\n| FERTILIZE               | Fertilizes a plant.                                            |\n| SMOTHER                 | Smothers a fire.                                               |\n| MANUALEXTINGUISH        | Extinguishes a fire manually.                                  |\n| LAYEGG                  | Lays an egg.                                                   |\n| HAMMER                  | Hammers a structure.                                           |\n| TERRAFORM               | Terraforms the ground.                                         |\n| JUMPIN                  | Jumps into a wormhole.                                         |\n| TELEPORT                | Teleports to a location.                                       |\n| RESETMINE               | Resets a mined rock.                                           |\n| ACTIVATE                | Activates a structure.                                         |\n| OPEN_CRAFTING           | Opens a crafting menu.                                         |\n| MURDER                  | Murders a target.                                              |\n| HEAL                    | Heals a target.                                                |\n| INVESTIGATE             | Investigates a target.                                         |\n| UNLOCK                  | Unlocks a structure.                                           |\n| USEKLAUSSACKKEY         | Uses a key to open a chest.                                    |\n| TEACH                   | Teaches a recipe.                                              |\n| TURNON                  | Turns on a structure.                                          |\n| TURNOFF                 | Turns off a structure.                                         |\n| SEW                     | Sews an item.                                                  |\n| STEAL                   | Steals an item.                                                |\n| USEITEM                 | Uses an item.                                                  |\n| USEITEMON               | Uses an item on a target.                                      |\n| STOPUSINGITEM           | Stops using an item.                                           |\n| TAKEITEM                | Takes an item from a container.                                |\n| MAKEBALLOON             | Makes a balloon.                                               |\n| CASTSPELL               | Casts a spell.                                                 |\n| CAST_POCKETWATCH        | Casts a spell with a pocket watch.                             |\n| BLINK                   | Blinks to a location.                                          |\n| BLINK_MAP               | Blinks to a location on the map.                               |\n| COMBINESTACK            | Combines stacks of items.                                      |\n| TOGGLE_DEPLOY_MODE      | Toggles deploy mode.                                           |\n| SUMMONGUARDIAN          | Summons a guardian.                                            |\n| HAUNT                   | Haunts a target.                                               |\n| UNPIN                   | Unpins a target.                                               |\n| STEALMOLEBAIT           | Steals mole bait.                                              |\n| MAKEMOLEHILL            | Makes a molehill.                                              |\n| MOLEPEEK                | Peeks into a molehill.                                         |\n| FEED                    | Feeds an animal.                                               |\n| UPGRADE                 | Upgrades a structure.                                          |\n| HAIRBALL                | Coughs up a hairball.                                          |\n| CATPLAYGROUND           | Plays in a cat playground.                                     |\n| CATPLAYAIR              | Plays in the air.                                              |\n| FAN                     | Uses a fan.                                                    |\n| ERASE_PAPER             | Erases a drawing.                                              |\n| DRAW                    | Draws a picture.                                               |\n| BUNDLE                  | Bundles items.                                                 |\n| BUNDLESTORE             | Stores a bundle.                                               |\n| WRAPBUNDLE              | Wraps a bundle.                                                |\n| UNWRAP                  | Unwraps a bundle.                                              |\n| BREAK                   | Breaks a structure.                                            |\n| CONSTRUCT               | Constructs a structure.                                        |\n| STOPCONSTRUCTION        | Stops constructing a structure.                                |\n| APPLYCONSTRUCTION       | Applies construction to a structure.                           |\n| STARTCHANNELING         | Starts channeling.                                             |\n| STOPCHANNELING          | Stops channeling.                                              |\n| APPLYPRESERVATIVE       | Applies preservative to an item.                               |\n| COMPARE_WEIGHABLE       | Compares the weight of two items.                              |\n| WEIGH_ITEM              | Weighs an item.                                                |\n| START_CARRAT_RACE       | Starts a carrat race.                                          |\n| CASTSUMMON              | Casts a summoning spell.                                       |\n| CASTUNSUMMON            | Casts an unsummoning spell.                                    |\n| COMMUNEWITHSUMMONED     | Communicates with a summoned creature.                         |\n| TELLSTORY               | Tells a story.                                                 |\n| PERFORM                 | Performs an action.                                            |\n| TOSS                    | Toss an item.                                                  |\n| NUZZLE                  | Nuzzle.                                                        |\n| WRITE                   | Write.                                                         |\n| ATTUNE                  | Attune.                                                        |\n| REMOTERESURRECT         | Remotely resurrect.                                            |\n| REVIVE_CORPSE           | Revive a corpse.                                               |\n| MIGRATE                 | Migrate.                                                       |\n| MOUNT                   | Mount.                                                         |\n| DISMOUNT                | Dismount.                                                      |\n| SADDLE                  | Saddle.                                                        |\n| UNSADDLE                | Unsaddle.                                                      |\n| BRUSH                   | Brush.                                                         |\n| ABANDON                 | Abandon.                                                       |\n| PET                     | Pet.                                                           |\n| DISMANTLE               | Dismantle.                                                     |\n| TACKLE                  | Tackle.                                                        |\n| GIVE_TACKLESKETCH       | Give tackle sketch.                                            |\n| REMOVE_FROM_TROPHYSCALE | Remove from trophy scale.                                      |\n| CYCLE                   | Cycle.                                                         |\n| CASTAOE                 | Cast area of effect.                                           |\n| HALLOWEENMOONMUTATE     | Mutate during Halloween moon event.                            |\n| WINTERSFEAST_FEAST      | Feast during winter's feast event.                             |\n| BEGIN_QUEST             | Begin a quest.                                                 |\n| ABANDON_QUEST           | Abandon a quest.                                               |\n| SING                    | Sing.                                                          |\n| SING_FAIL               | Fail singing.                                                  |\n\n### Quagmire\n\n| Action     | Description |\n| ---------- | ----------- |\n| TILL       | Till.       |\n| PLANTSOIL  | Plant soil. |\n| INSTALL    | Install.    |\n| TAPTREE    | Tap tree.   |\n| SLAUGHTER  | Slaughter.  |\n| REPLATE    | Replate.    |\n| SALT       | Salt.       |\n| BATHBOMB   | Bath bomb.  |\n| COMMENT    | Comment.    |\n| WATER_TOSS | Water toss. |\n\n### boat\n\n| Action                       | Description                   |\n| ---------------------------- | ----------------------------- |\n| RAISE_SAIL                   | Raise sail.                   |\n| LOWER_SAIL                   | Lower sail.                   |\n| LOWER_SAIL_BOOST             | Lower sail boost.             |\n| LOWER_SAIL_FAIL              | Lower sail fail.              |\n| RAISE_ANCHOR                 | Raise anchor.                 |\n| LOWER_ANCHOR                 | Lower anchor.                 |\n| EXTEND_PLANK                 | Extend plank.                 |\n| RETRACT_PLANK                | Retract plank.                |\n| ABANDON_SHIP                 | Abandon ship.                 |\n| MOUNT_PLANK                  | Mount plank.                  |\n| DISMOUNT_PLANK               | Dismount plank.               |\n| REPAIR_LEAK                  | Repair leak.                  |\n| STEER_BOAT                   | Steer boat.                   |\n| SET_HEADING                  | Set heading.                  |\n| STOP_STEERING_BOAT           | Stop steering boat.           |\n| CAST_NET                     | Cast net.                     |\n| ROW_FAIL                     | Row fail.                     |\n| ROW                          | Row.                          |\n| ROW_CONTROLLER               | Row controller.               |\n| BOARDPLATFORM                | Board platform.               |\n| OCEAN_TOSS                   | Ocean toss.                   |\n| UNPATCH                      | Unpatch.                      |\n| POUR_WATER                   | Pour water.                   |\n| POUR_WATER_GROUNDTILE        | Pour water ground tile.       |\n| PLANTREGISTRY_RESEARCH_FAIL  | Plant registry research fail. |\n| PLANTREGISTRY_RESEARCH       | Plant registry research.      |\n| ASSESSPLANTHAPPINESS         | Assess plant happiness.       |\n| ATTACKPLANT                  | Attack plant.                 |\n| PLANTWEED                    | Plant weed.                   |\n| ADDCOMPOSTABLE               | Add compostable.              |\n| WAX                          | Wax.                          |\n| APPRAISE                     | Appraise.                     |\n| UNLOAD_WINCH                 | Unload winch.                 |\n| USE_HEAVY_OBSTACLE           | Use heavy obstacle.           |\n| ADVANCE_TREE_GROWTH          | Advance tree growth.          |\n| ROTATE_BOAT_CLOCKWISE        | Rotate boat clockwise.        |\n| ROTATE_BOAT_COUNTERCLOCKWISE | Rotate boat counterclockwise. |\n| ROTATE_BOAT_STOP             | Rotate boat stop.             |\n| BOAT_MAGNET_ACTIVATE         | Boat magnet activate.         |\n| BOAT_MAGNET_DEACTIVATE       | Boat magnet deactivate.       |\n| BOAT_MAGNET_BEACON_TURN_ON   | Boat magnet beacon turn on.   |\n| BOAT_MAGNET_BEACON_TURN_OFF  | Boat magnet beacon turn off.  |\n| BOAT_CANNON_LOAD_AMMO        | Boat cannon load ammo.        |\n| BOAT_CANNON_START_AIMING     | Boat cannon start aiming.     |\n| BOAT_CANNON_SHOOT            | Boat cannon shoot.            |\n| BOAT_CANNON_STOP_AIMING      | Boat cannon stop aiming.      |\n| OCEAN_TRAWLER_LOWER          | Ocean trawler lower.          |\n| OCEAN_TRAWLER_RAISE          | Ocean trawler raise.          |\n| OCEAN_TRAWLER_FIX            | Ocean trawler fix.            |\n| EMPTY_CONTAINER              | Empty container.              |\n| CARNIVAL_HOST_SUMMON         | Carnival host summon.         |\n\n### special\n\n| Action                   | Subject     | Description               |\n| ------------------------ | ----------- | ------------------------- |\n| YOTB_SEW                 | YOTB        | YOTB sew.                 |\n| YOTB_STARTCONTEST        | YOTB        | YOTB start contest.       |\n| YOTB_UNLOCKSKIN          | YOTB        | YOTB unlock skin.         |\n| CARNIVALGAME_FEED        | -           | Carnival game feed.       |\n| RETURN_FOLLOWER          | YOT_Catcoon | Return follower.          |\n| HIDEANSEEK_FIND          | YOT_Catcoon | Hide and seek find.       |\n| MUTATE_SPIDER            | WEBBER      | Mutate spider.            |\n| HERD_FOLLOWERS           | WEBBER      | Herd followers.           |\n| REPEL                    | WEBBER      | Repel.                    |\n| BEDAZZLE                 | WEBBER      | Bedazzle.                 |\n| DISMANTLE_POCKETWATCH    | WANDA       | Dismantle pocket watch.   |\n| LIFT_DUMBBELL            | WOLFGANG    | Lift dumbbell.            |\n| STOP_LIFT_DUMBBELL       | WOLFGANG    | Stop lift dumbbell.       |\n| ENTER_GYM                | WOLFGANG    | Enter gym.                |\n| UNLOAD_GYM               | WOLFGANG    | Unload gym.               |\n| LEAVE_GYM                | WOLFGANG    | Leave gym.                |\n| LIFT_GYM_SUCCEED_PERFECT | WOLFGANG    | Lift gym succeed perfect. |\n| LIFT_GYM_SUCCEED         | WOLFGANG    | Lift gym succeed.         |\n| LIFT_GYM_FAIL            | WOLFGANG    | Lift gym fail.            |\n| APPLYMODULE              | WX78        | Apply module.             |\n| APPLYMODULE_FAIL         | WX78        | Apply module fail.        |\n| REMOVEMODULES            | WX78        | Remove modules.           |\n| REMOVEMODULES_FAIL       | WX78        | Remove modules fail.      |\n| CHARGE_FROM              | WX78        | Charge from.              |\n| ROTATE_FENCE             | -           | Rotate fence.             |\n| USEMAGICTOOL             | MAXWELL     | Use magic tool.           |\n| STOPUSINGMAGICTOOL       | MAXWELL     | Stop using magic tool.    |\n| USESPELLBOOK             | MAXWELL     | Use spell book.           |\n| CLOSESPELLBOOK           | MAXWELL     | Close spell book.         |\n| CAST_SPELLBOOK           | MAXWELL     | Cast spell book.          |\n\n"},{"id":"ACTIONS-EAT-fn","info":"\n\n执行 eat 的动作\n\n"}],"local":[{"id":"DefaultRangeCheck","info":"\n\ndoer, target => Boolean\n\ntarget 是否处于 doer 的默认范围内\n\n"},{"id":"CheckFishingOceanRange","info":"\n\ndoer, dest => Boolean\n\n"},{"id":"CheckRowRange","info":"\n\ndoer, dest => Boolean\n\n"},{"id":"CheckIsOnPlatform","info":"\n\ndoer, dest => Boolean\n\n"},{"id":"CheckOceanFishingCastRange","info":"\n\ndoer, dest => Boolean\n\n与 @CheckFishingOceanRange 代码内容一致\n\n"},{"id":"fn","info":"\n\nact => any\n\n- any: component 的返回值\n\n动作的执行时通过 component 来操作的\n\n"},{"id":"strfn","info":"\n\n动作的描述\n\n"}]}